(this.webpackJsonpsection=this.webpackJsonpsection||[]).push([[0],{243:function(e,t,n){},268:function(e,t){},440:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),s=n(127),i=(n(165),n(166),n(241),n(242),n(243),n(71)),o=n.n(i),c=n(21),l=n(128),u=n(107),d=n(108),b=n(123),p=n(118),f=n(1),m=n(2),g=n(236),j={format:"{reason} at line {line}",symbols:{colon:"colon",comma:"comma",semicolon:"semicolon",slash:"slash",backslash:"backslash",brackets:{round:"round brackets",square:"square brackets",curly:"curly brackets",angle:"angle brackets"},period:"period",quotes:{single:"single quote",double:"double quote",grave:"grave accent"},space:"space",ampersand:"ampersand",asterisk:"asterisk",at:"at sign",equals:"equals sign",hash:"hash",percent:"percent",plus:"plus",minus:"minus",dash:"dash",hyphen:"hyphen",tilde:"tilde",underscore:"underscore",bar:"vertical bar"},types:{key:"key",value:"value",number:"number",string:"string",primitive:"primitive",boolean:"boolean",character:"character",integer:"integer",array:"array",float:"float"},invalidToken:{tokenSequence:{prohibited:"'{firstToken}' token cannot be followed by '{secondToken}' token(s)",permitted:"'{firstToken}' token can only be followed by '{secondToken}' token(s)"},termSequence:{prohibited:"A {firstTerm} cannot be followed by a {secondTerm}",permitted:"A {firstTerm} can only be followed by a {secondTerm}"},double:"'{token}' token cannot be followed by another '{token}' token",useInstead:"'{badToken}' token is not accepted. Use '{goodToken}' instead",unexpected:"Unexpected '{token}' token found"},brace:{curly:{missingOpen:"Missing '{' open curly brace",missingClose:"Open '{' curly brace is missing closing '}' curly brace",cannotWrap:"'{token}' token cannot be wrapped in '{}' curly braces"},square:{missingOpen:"Missing '[' open square brace",missingClose:"Open '[' square brace is missing closing ']' square brace",cannotWrap:"'{token}' token cannot be wrapped in '[]' square braces"}},string:{missingOpen:"Missing/invalid opening string '{quote}' token",missingClose:"Missing/invalid closing string '{quote}' token",mustBeWrappedByQuotes:"Strings must be wrapped by quotes",nonAlphanumeric:"Non-alphanumeric token '{token}' is not allowed outside string notation",unexpectedKey:"Unexpected key found at string position"},key:{numberAndLetterMissingQuotes:"Key beginning with number and containing letters must be wrapped by quotes",spaceMissingQuotes:"Key containing space must be wrapped by quotes",unexpectedString:"Unexpected string found at key position"},noTrailingOrLeadingComma:"Trailing or leading commas in arrays and objects are not permitted"},O=n(15),h=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).onConfigure=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.sdk.app.getCurrentState();case 2:return t=e.sent,e.abrupt("return",{parameters:r.state.parameters,targetState:{EditorInterface:Object(c.a)({},null===t||void 0===t?void 0:t.EditorInterface)}});case 4:case"end":return e.stop()}}),e)}))),r.onParamsChange=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state,t.tabs){e.next=4;break}return r.setState(Object(c.a)(Object(c.a)({},n),{},{error:"Tab is required."})),e.abrupt("return");case 4:if(t.fields){e.next=7;break}return r.setState(Object(c.a)(Object(c.a)({},n),{},{error:"Fields is required."})),e.abrupt("return");case 7:if(Array.isArray(t.fields)){e.next=10;break}return r.setState(Object(c.a)(Object(c.a)({},n),{},{error:"Value for fields must be array."})),e.abrupt("return");case 10:if(Array.isArray(t.tabs)){e.next=13;break}return r.setState(Object(c.a)(Object(c.a)({},n),{},{error:"Value for tabs must be array."})),e.abrupt("return");case 13:if(t.tabs.length){e.next=16;break}return r.setState(Object(c.a)(Object(c.a)({},n),{},{error:"There must be at least one tab."})),e.abrupt("return");case 16:if(t.fields.length){e.next=19;break}return r.setState(Object(c.a)(Object(c.a)({},n),{},{error:"There must be at least one field."})),e.abrupt("return");case 19:console.log(t),r.setState(Object(c.a)(Object(c.a)({},n),{},{parameters:t}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={parameters:{},error:""},e.sdk.app.onConfigure((function(){return r.onConfigure()})),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.sdk.app.getParameters();case 2:t=e.sent,this.setState(t?{error:"",parameters:t}:this.state,(function(){n.props.sdk.app.setReady()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.error,r=t.parameters,a=Object.assign({tabs:["Content"],fields:[{field:"content",tab:"Content"}]},r);return Object(O.jsx)(f.X,{className:Object(m.a)({margin:"80px"}),children:Object(O.jsxs)(f.r,{style:{minWidth:"40vw"},children:[Object(O.jsx)(f.t,{children:"Configuration"}),n?Object(O.jsx)(f.W,{children:n}):null,Object(O.jsx)(g.a,{placeholder:a,locale:j,onChange:function(t){var n=t.jsObject;return t.error?"":e.onParamsChange(n)},id:"tabs"})]})})}}]),n}(r.Component),k=n(164),v=n(134),y=(n(246),n(162)),x=function(e){var t=e.sys.id,n=e.sys.space.sys.id;return"https://app.contentful.com/spaces/".concat(n,"/entries/").concat(t)},w=n(96),q=function(e){var t,n,r,a=e.field,s=e.locales,i=e.sdk,o=e.type,l=e.label,u=e.instance,d=void 0===u?{}:u,b=a.getForLocale(i.locales.default),p=i.contentType.fields.find((function(e){return e.id===b.id})),m=null===(t=i.editor.editorInterface)||void 0===t||null===(n=t.controls)||void 0===n?void 0:n.find((function(e){return e.fieldId===b.id})),g=null!==(r=null===m||void 0===m?void 0:m.widgetId)&&void 0!==r?r:"";if(!p||!m)return null;var j=Object(c.a)(Object(c.a)({},i),{},{field:b,locales:s,parameters:Object(c.a)(Object(c.a)({},i.parameters),{},{instance:Object(c.a)(Object(c.a)(Object(c.a)({},i.parameters.instance),d),null===m||void 0===m?void 0:m.settings)})}),h=l?function(){return Object(O.jsx)(f.s,{htmlFor:p.name,children:l})}:void 0;return Object(O.jsx)(y.b,{sdk:j,name:p.name,getEntryURL:x,renderHeading:h,children:function(){switch(o){case"39ArQsK2hqsWsIK0WiCGMm":case"accents":return Object(O.jsx)(w.AccentsField,{sdk:j});case"buttons":return Object(O.jsx)(w.ButtonsField,{sdk:j});case"q&a":return Object(O.jsx)(w.QAndAField,{sdk:j});case"repeatable":return Object(O.jsx)(w.RepeatableField,{sdk:j});default:return Object(O.jsx)(y.a,{widgetId:g,sdk:j,isInitiallyDisabled:!1})}}()})},T=function(e){var t=e.sdk,n=t.entry,a=t.locales,s=t.parameters,i=s.installation.tabs,o=Object(r.useState)(Object(k.a)(i)),c=Object(v.a)(o,2),l=c[0],u=c[1],d=Object(r.useState)("General"),b=Object(v.a)(d,2),p=b[0],m=b[1],g=Object(r.useState)({}),j=Object(v.a)(g,2),h=j[0],y=j[1],x=s.installation.fields,w=x.map((function(e){return e.field})),T=x.filter((function(e){return""===e.tab}));if(!Object.values(h).length){var C=0;y(Object.values(n.fields).reduce((function(e,t){return e[Object.keys(n.fields)[C]]=t.getValue(),C++,e}),{})),Object.values(n.fields).forEach((function(e){e.onValueChanged((function(t){h[e.id]!==t&&(h[e.id]=t,y(Object.assign({},h)))}))}))}var A=Object.values(n.fields).filter((function(e){return!w.includes(e.id)}));function S(e,t){var r=n.fields[e];return!!r&&r.getValue()===t}function I(t){var r,s=n.fields[t.field];return s?t.condition&&(r=t.condition,!(Array.isArray(r.value)?r.value.some((function(e){return S(r.field,e)})):S(r.field,r.value)))?null:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(O.jsx)(q,{field:t,sdk:e.sdk,locales:a,type:n,label:r,instance:s},"field-"+t.id)}(s,t.type,t.label):null}return A.length&&(i.push("Other"),A.forEach((function(e){x.push({field:e.id,tab:"Other"})}))),i.length!==l.length&&u(Object(k.a)(i)),Object(O.jsxs)(f.r,{spacing:"default",className:"f36-margin--2xl",children:[Object(O.jsx)(f.c,{className:"f36-padding--l f36-margin-bottom--l",children:T.map((function(e){return I(e)}))}),Object(O.jsx)(f.O,{role:"navigation",withDivider:!0,children:l.map((function(e){return Object(O.jsx)(f.N,{selected:p===e,id:e,onSelect:function(){return m(e)},children:e},"tab-"+e)}))}),l.map((function(e){if(p!==e)return null;var t=x.filter((function(t){return t.tab===e}));return t.length?Object(O.jsx)(f.c,{className:"f36-padding--l f36-margin-bottom--l",children:t.map((function(e){return"data"===e.field?function(e){var t=n.fields.type;if(!t)return null;var r=!1;switch(t.getValue()){case"Q&A":r=!0,e.type="q&a",e.label="Q&A";break;case"Photo Stack":r=!0,e.type="repeatable",e.label="Images",e.instance={title:!0,linkLabel:!0,url:!0,image:!0}}return r?I(e):null}(e):I(e)}))},"tab-content"+e):null}))]})};Object(s.init)((function(e){var t=document.getElementById("root");[{location:s.locations.LOCATION_APP_CONFIG,component:Object(O.jsx)(h,{sdk:e})},{location:s.locations.LOCATION_ENTRY_EDITOR,component:Object(O.jsx)(T,{sdk:e})}].forEach((function(n){e.location.is(n.location)&&Object(a.render)(n.component,t)}))}))}},[[440,1,2]]]);
//# sourceMappingURL=main.545b52f2.chunk.js.map